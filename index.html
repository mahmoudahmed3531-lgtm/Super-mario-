<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ุงุฎุชุจุงุฑ ุนุงู โ ุฃุณุฆูุฉ ูุฃุฌูุจุฉ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0f172a; --card:#0b1024; --text:#e5eef7; --muted:#93a3b8;
  --primary:#1cc09b; --accent:#22c55e; --wrong:#ef4444; --right:#22c55e; --brand:#33654F;
}
*{box-sizing:border-box}
body{
  margin:0;background:radial-gradient(1200px 600px at 70% -10%,#122044 0%,#0b1229 40%,#061024 100%);
  color:var(--text); font-family:'Cairo',system-ui,-apple-system,Segoe UI,Roboto,Arial; min-height:100svh;
  display:flex; align-items:center; justify-content:center; padding:20px;
}
.container{
  width:min(960px,100%); background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08); border-radius:20px; backdrop-filter: blur(8px);
  box-shadow:0 20px 60px rgba(0,0,0,.45); overflow:hidden;
}
.header{
  display:flex; align-items:center; justify-content:space-between; gap:10px; padding:18px 20px;
  background:linear-gradient(90deg,var(--brand),#1f9d7d 60%,#22c55e); color:#fff;
}
.title{font-size:clamp(18px,2.8vw,26px); font-weight:800; letter-spacing:.4px}
.badges{display:flex; gap:10px; flex-wrap:wrap}
.badge{
  display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px;
  background:rgba(255,255,255,.18); font-weight:700; font-size:13px
}
.main{padding:20px}
.card{
  background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06);
  border-radius:16px; padding:16px; margin-bottom:14px;
}
.controls{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.controls .row{display:flex; gap:10px; flex-wrap:wrap}
select, input, button{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06); color:var(--text); outline:none
}
button{cursor:pointer; font-weight:800; letter-spacing:.3px}
.btn-primary{background:linear-gradient(90deg,var(--brand),#16a085); border:none}
.btn-ghost{background:transparent; border:1px dashed rgba(255,255,255,.25)}
.info{display:flex; gap:10px; flex-wrap:wrap; align-items:center; color:var(--muted); font-size:14px}
.progress{height:10px; background:rgba(255,255,255,.1); border-radius:999px; overflow:hidden}
.progress > i{display:block; height:100%; background:linear-gradient(90deg,#22c55e,#10b981); width:0%}
.q{
  font-weight:700; font-size:clamp(18px,2.6vw,22px); line-height:1.6; margin-bottom:10px
}
.meta{display:flex; gap:8px; color:var(--muted); font-size:13px; flex-wrap:wrap}
.options{display:grid; gap:10px; margin-top:10px}
.opt{
  display:flex; align-items:center; gap:10px; padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.03); cursor:pointer; position:relative;
}
.opt:hover{border-color:rgba(255,255,255,.28); background:rgba(255,255,255,.06)}
.opt.correct{border-color:rgba(34,197,94,.6); background:rgba(34,197,94,.15)}
.opt.wrong{border-color:rgba(239,68,68,.6); background:rgba(239,68,68,.15)}
.actions{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
.footer{padding:16px 20px; background:rgba(255,255,255,.04); border-top:1px solid rgba(255,255,255,.06)}
.center{display:flex; align-items:center; justify-content:center}
.small{font-size:12px; color:var(--muted)}
.kpi{display:flex; gap:10px; flex-wrap:wrap}
.kpi .item{background:rgba(255,255,255,.06); padding:10px 12px; border-radius:12px; font-weight:700}
.final{ text-align:center; padding:30px 10px}
.final h2{margin:0 0 6px; font-size:clamp(20px,3vw,28px)}
.final p{color:var(--muted)}
hr{border:none; border-top:1px dashed rgba(255,255,255,.15); margin:14px 0}
@media (max-width:640px){
  .controls{grid-template-columns:1fr}
}
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="title">ุงุฎุชุจุงุฑ ุนุงู โ ุฃุณุฆูุฉ ูุฃุฌูุจุฉ</div>
      <div class="badges">
        <div class="badge">๐ฏ <span id="score">0</span> ููุทุฉ</div>
        <div class="badge">๐ ุฃูุถู ูุชูุฌุฉ: <span id="best">0</span></div>
      </div>
    </div>

    <div class="main">
      <!-- ุฅุนุฏุงุฏุงุช ุงูุจุฏุงูุฉ -->
      <div class="card" id="setup">
        <div class="controls">
          <div class="row">
            <label style="width:100%">
              ุงููุฆุฉ
              <select id="category">
                <option value="all">ูู ุงููุฆุงุช</option>
                <option value="ุฏููู">ุฏููู</option>
                <option value="ุชุงุฑูุฎู">ุชุงุฑูุฎู</option>
                <option value="ุซูุงูู">ุซูุงูู</option>
                <option value="ูููุนุงุช">ูููุนุงุช</option>
              </select>
            </label>
          </div>
          <div class="row">
            <label style="flex:1">
              ุนุฏุฏ ุงูุฃุณุฆูุฉ ูู ุงูุฌูุณุฉ
              <select id="count">
                <option>10</option>
                <option selected>15</option>
                <option>20</option>
                <option>30</option>
                <option value="all">ูู ุงููุชุงุญ</option>
              </select>
            </label>
            <label style="flex:1">
              ุชุฑุชูุจ
              <select id="order">
                <option value="random" selected>ุนุดูุงุฆู</option>
                <option value="fixed">ููุง ูู ุงููุงุนุฏุฉ</option>
              </select>
            </label>
          </div>
        </div>
        <div class="actions">
          <button class="btn-primary" id="startBtn">ุงุจุฏุฃ ุงูุขู</button>
          <button class="btn-ghost" id="howBtn">ุทุฑููุฉ ุงููุนุจ</button>
        </div>
        <p class="small">ุงูุฃุณุฆูุฉ ูุฃุฎูุฐุฉ ูู ูุนูููุงุช ุนุงูุฉ (ุฏูููุ ุชุงุฑูุฎูุ ุซูุงููุ ูููุนุงุช) โ ููููุฃุฉ ููุฌูุงู ูุงูููุจููุชุฑ.</p>
      </div>

      <!-- ููุทูุฉ ุงูุณุคุงู -->
      <div class="card" id="stage" style="display:none">
        <div class="info">
          <div>ุงูุณุคุงู <b id="idx">1</b>/<span id="total">0</span></div>
          <div>ุงููุฆุฉ: <b id="cat">โ</b></div>
        </div>
        <div class="progress" aria-hidden="true"><i id="bar"></i></div>
        <div class="q" id="q">...</div>
        <div class="meta" id="meta"></div>
        <div class="options" id="options"></div>
        <div class="actions">
          <button class="btn-primary" id="nextBtn" disabled>ุงูุณุคุงู ุงูุชุงูู โฉ๏ธ</button>
          <button class="btn-ghost" id="skipBtn">ุชุฎุทู</button>
        </div>
      </div>

      <!-- ุงููุชูุฌุฉ -->
      <div class="card" id="result" style="display:none">
        <div class="final">
          <h2>ุงูุชูุช ุงูุฌูุณุฉ! ๐</h2>
          <p>ูุชูุฌุชู: <b id="finalScore">0</b> ูู <b id="finalTotal">0</b></p>
          <div class="kpi center" style="justify-content:center;margin:10px 0">
            <div class="item">โ ุตุญูุญุฉ: <span id="ok">0</span></div>
            <div class="item">โ ุฎุงุทุฆุฉ: <span id="ko">0</span></div>
            <div class="item">โญ๏ธ ูุชุฎุทุงุฉ: <span id="sk">0</span></div>
          </div>
          <hr>
          <div class="actions center" style="justify-content:center">
            <button class="btn-primary" id="restart">ุฃุนุฏ ุงููุญุงููุฉ</button>
            <button class="btn-ghost" onclick="shareScore()">ูุดุงุฑูุฉ ุงููุชูุฌุฉ</button>
          </div>
        </div>
      </div>
    </div>

    <div class="footer small">
      ููุงุญุธุฉ: ูุชู ุญูุธ ุฃูุถู ูุชูุฌุฉ ุนูู ุฌูุงุฒู ููุท.
    </div>
  </div>

<script>
/** ===========================
 *  ูุงุนุฏุฉ ุงูุฃุณุฆูุฉ (100 ุณุคุงู)
 *  ุงูุญููู: q ุงูุณุคุงูุ options ุงูุงุฎุชูุงุฑุงุช (4)ุ a ุฑูู ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ (0..3)ุ cat ุงููุฆุฉ
 *  =========================== */
const QUESTIONS = [
  // ===== ุฏููู (25) =====
  {q:"ูุง ุฃูู ูุง ููุญุงุณูุจ ุนููู ุงูุนุจุฏ ููู ุงูููุงูุฉุ",options:["ุงูุฒูุงุฉ","ุงูุตูุงุฉ","ุงูุตูู","ุงูุญุฌ"],a:1,cat:"ุฏููู"},
  {q:"ูู ุนุฏุฏ ุฑูุนุงุช ุตูุงุฉ ุงููุฌุฑ (ุงููุฑุถ)ุ",options:["ุฑูุนุชุงู","ุซูุงุซ","ุฃุฑุจุน","ุฎูุณ"],a:0,cat:"ุฏููู"},
  {q:"ูู ุฃู ุดูุฑ ููุฑุถ ุตูุงู ุฑูุถุงูุ",options:["ุดุนุจุงู","ุฑูุถุงู","ุฑุฌุจ","ูุญุฑู"],a:0,cat:"ุฏููู"},
  {q:"ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชูุณูู ููุจ ุงููุฑุขูุ",options:["ูุณ","ุงูุฑุญูู","ุงููุงุชุญุฉ","ุงูููู"],a:0,cat:"ุฏููู"},
  {q:"ูู ูู ุฎุงุชู ุงูุฃูุจูุงุกุ",options:["ุฅุจุฑุงููู","ุนูุณู","ูุญูุฏ","ููุณู"],a:2,cat:"ุฏููู"},
  {q:"ุฃุฑูุงู ุงูุฅุณูุงู ุนุฏุฏูุง:",options:["ุซูุงุซุฉ","ุฃุฑุจุนุฉ","ุฎูุณุฉ","ุณุชุฉ"],a:2,cat:"ุฏููู"},
  {q:"ุงูุบุงุฑ ุงูุฐู ุงุฎุชุจุฃ ููู ุงููุจู ๏ทบ ูุฃุจู ุจูุฑ:",options:["ุบุงุฑ ุซูุฑ","ุบุงุฑ ุญุฑุงุก","ุบุงุฑ ุฃุญุฏ","ุบุงุฑ ููู"],a:0,cat:"ุฏููู"},
  {q:"ุฃุทูู ุณูุฑุฉ ูู ุงููุฑุขู:",options:["ุงูุจูุฑุฉ","ุงููุณุงุก","ุขู ุนูุฑุงู","ุงููุงุฆุฏุฉ"],a:0,cat:"ุฏููู"},
  {q:"ูููุฉ ุงููุฏุฑ ูู ุงูุนุดุฑ ุงูุฃูุงุฎุฑ ูู:",options:["ูุญุฑู","ุฑูุถุงู","ุดุนุจุงู","ุฐู ุงูุญุฌุฉ"],a:1,cat:"ุฏููู"},
  {q:"ุนุฏุฏ ุงูุณุฌุฏุงุช ูู ุงููุฑุขู:",options:["10","12","14","15"],a:2,cat:"ุฏููู"},
  {q:"ุฃูู ูุณุฌุฏ ุจููู ูู ุงูุฅุณูุงู:",options:["ุงููุณุฌุฏ ุงููุจูู","ุงููุณุฌุฏ ุงูุญุฑุงู","ูุจุงุก","ุงูุฃูุตู"],a:2,cat:"ุฏููู"},
  {q:"ุงูุฒูุงุฉ ุฑููโฆ",options:["ุฅููุงู","ุฅุญุณุงู","ุฅุณูุงู","ุชููู"],a:2,cat:"ุฏููู"},
  {q:"ูุจู ุงุจุชูููู ุจุงููุฑุถ ูุตุจุฑ:",options:["ุฃููุจ","ูููุณ","ุฏุงูุฏ","ุณูููุงู"],a:0,cat:"ุฏููู"},
  {q:"ุนุฏุฏ ุงูุฃุดูุฑ ุงูุญูุฑู:",options:["ูข","ูฃ","ูค","ูฅ"],a:2,cat:"ุฏููู"},
  {q:"ุฃูุตุฑ ุณูุฑุฉ ูู ุงููุฑุขู:",options:["ุงูููุซุฑ","ุงูุฅุฎูุงุต","ุงูุนุตุฑ","ุงููุตุฑ"],a:0,cat:"ุฏููู"},
  {q:"ุฃูููู ุงููุคูููู ุงูุชู ูููููุจุช ุจุงูุตููุฏููููุฉ:",options:["ุญูุตุฉ","ุนุงุฆุดุฉ","ุฃู ุณููุฉ","ุณูุฏุฉ"],a:1,cat:"ุฏููู"},
  {q:"ุณูุฑุฉ ุชูุณูู ุนุฑูุณ ุงููุฑุขู:",options:["ููุณู","ุงูุฑุญูู","ูุฑูู","ุงูููู"],a:1,cat:"ุฏููู"},
  {q:"ุตูุงุฉ ุงูุฎูู ุดูุฑุนุช ูู:",options:["ุงูุณูุฑ ููุท","ุงูุญุฑุจ","ุงููุฑุถ","ุงูุฌูุนุฉ"],a:1,cat:"ุฏููู"},
  {q:"ูุง ูู ุฑูู ุงูุญุฌ ุงูุฃุนุธูุ",options:["ุงูุทูุงู","ุงูุณุนู","ุงููููู ุจุนุฑูุฉ","ุฑูู ุงูุฌูุฑุงุช"],a:2,cat:"ุฏููู"},
  {q:"ูู ุนุฏุฏ ุงูุชูุจูุฑุงุช ูู ุตูุงุฉ ุงูุนูุฏ (ุงูุฃููู ูุจู ุงููุฑุงุกุฉ)ุ",options:["3","5","7","9"],a:2,cat:"ุฏููู"},
  {q:"ุฃูู ูู ุฃุณูู ูู ุงูุตุจูุงู:",options:["ุนูู ุจู ุฃุจู ุทุงูุจ","ุงูุฒุจูุฑ","ุฃูุณ","ุฃุณุงูุฉ"],a:0,cat:"ุฏููู"},
  {q:"ุงูุณูุฑุฉ ุงูุชู ุชุจุฏุฃ ุจู(ุงูุญูุฏ ููู ุฑุจ ุงูุนุงูููู):",options:["ุงููุงุชุญุฉ","ุงูุฃูุนุงู","ุณุจุฃ","ูุงุทุฑ"],a:0,cat:"ุฏููู"},
  {q:"ุงูุฃุฐุงู ุดูุฑุน ูู ุนูุฏ:",options:["ููุฉ","ุงููุฏููุฉ","ุงูุทุงุฆู","ุงูุญุฏูุจูุฉ"],a:1,cat:"ุฏููู"},
  {q:"ุงูุณูุฉ ุงููุคูุฏุฉ ูุจู ุงููุฌุฑ:",options:["ูุง ุดูุก","ุฑูุนุฉ","ุฑูุนุชุงู","ุฃุฑุจุน"],a:2,cat:"ุฏููู"},
  {q:"ูู ูู ุฐู ุงููููุ",options:["ุฅุฏุฑูุณ","ูููุณ","ููุณู","ูุนููุจ"],a:1,cat:"ุฏููู"},

  // ===== ุชุงุฑูุฎู (25) =====
  {q:"ูู ูู ุงููุงุฆุฏ ุงููุณูู ูู ูุนุฑูุฉ ุงููุฑูููุ",options:["ุนูุฑู ุจู ุงูุนุงุต","ุฎุงูุฏ ุจู ุงููููุฏ","ุฃุจู ุนุจูุฏุฉ","ุณุนุฏ ุจู ุฃุจู ููุงุต"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ุฃู ุนุงู ุณูุทุช ุงูุฏููุฉ ุงูุฃูููุฉุ",options:["750ู","661ู","632ู","800ู"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ุฃูู ุฎูููุฉ ุนุจุงุณูุ",options:["ุงูููุตูุฑ","ุงูุณูุงุญ","ุงูููุฏู","ุงููุงุฏู"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ูุชุญ ุงููุณุทูุทูููุฉ ูุงู ุนูู ูุฏ:",options:["ูุญูุฏ ุงููุงุชุญ","ุตูุงุญ ุงูุฏูู","ููุฑ ุงูุฏูู","ูุทุฒ"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ูุงุฆุฏ ูุนุฑูุฉ ุญุทููุ",options:["ูุทุฒ","ุตูุงุญ ุงูุฏูู ุงูุฃููุจู","ุจูุจุฑุณ","ุทุงุฑู ุจู ุฒูุงุฏ"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ุทุงุฑู ุจู ุฒูุงุฏ ูุชุญ:",options:["ูุตุฑ","ุงูุฃูุฏูุณ","ุงูููู","ุจูุงุฏ ุงูุณูุฏ"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ุงูุฏููุฉ ุงูุชู ูุญูุฏุช ุดุจู ุงูุฌุฒูุฑุฉ ุงูุนุฑุจูุฉ ุงูุญุฏูุซุฉ:",options:["ุงูุนุซูุงููุฉ","ุงูุฃููุจูุฉ","ุงูุณุนูุฏูุฉ","ุงูุฒูููุฉ"],a:2,cat:"ุชุงุฑูุฎู"},
  {q:"ุงูุญุถุงุฑุฉ ุงูุชู ุดูุฏุช ุงูุฃูุฑุงูุงุช:",options:["ุงูุขุดูุฑูุฉ","ุงูููููููุฉ","ุงููุตุฑูุฉ ุงููุฏููุฉ","ุงูุฅุบุฑูููุฉ"],a:2,cat:"ุชุงุฑูุฎู"},
  {q:"ุงูุฏูุนุช ุงูุญุฑุจ ุงูุนุงูููุฉ ุงูุฃููู ุนุงู:",options:["1914","1918","1939","1945"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ุงูุญุฑุจ ุงูุนุงูููุฉ ุงูุซุงููุฉ ุงูุชูุช ุนุงู:",options:["1940","1943","1945","1950"],a:2,cat:"ุชุงุฑูุฎู"},
  {q:"ุฃูู ุฑุฆูุณ ููุตุฑ ุจุนุฏ ุซูุฑุฉ 1952:",options:["ุงูุณุงุฏุงุช","ุนุจุฏุงููุงุตุฑ","ูุญูุฏ ูุฌูุจ","ูุจุงุฑู"],a:2,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ุงูุชุดู ูุงููู ุงูุฌุงุฐุจูุฉุ",options:["ุบุงูููู","ูููุชู","ููุจุฑููููุณ","ุจูุงูู"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ูุฏููุฉ ุงูุจุชุฑุงุก ุชูุน ูู:",options:["ุณูุฑูุง","ุงูุฃุฑุฏู","ูุตุฑ","ุงูุนุฑุงู"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ุจูู ุญุฏุงุฆู ุจุงุจู ุงููุนููุฉุ",options:["ูุจูุฎุฐูุตุฑ","ุญููุฑุงุจู","ุณุงุฑุบูู","ุขุดูุฑ ุจุงููุจุงู"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ุงููุงุฆุฏ ุงูุฐู ูุฒู ุงููุบูู ูู ุนูู ุฌุงููุช:",options:["ุจูุจุฑุณ","ูุทุฒ","ุฃุฑุทุบุฑู","ูุญูุฏ ุงููุงุชุญ"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ูู ุงูุฑุญุงูุฉ ุงููุบุฑุจู ุงูุดููุฑุ",options:["ุงุจู ุจุทูุทุฉ","ุงุจู ุฌุจูุฑ","ุงูููุฏุณู","ูุงููุช"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ุฏููุฉ ุณุจุฃ ุงุฒุฏูุฑุช ูู:",options:["ุจูุงุฏ ุงูุดุงู","ุจูุงุฏ ุงูุฑุงูุฏูู","ุงูููู","ูุตุฑ"],a:2,cat:"ุชุงุฑูุฎู"},
  {q:"ุนุงุตูุฉ ุงูุฏููุฉ ุงูุนุจุงุณูุฉ ุงูุฃููู:",options:["ุจุบุฏุงุฏ","ุงููููุฉ","ุงูุฃูุจุงุฑ","ุณุงูุฑุงุก"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ุตูุงุญ ุงูุฏูู ุญุงุฑุจ:",options:["ุงููุบูู","ุงูุชุชุงุฑ","ุงูุตููุจููู","ุงูุจูุฒูุทููู"],a:2,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ูู ุฃูู ูู ููุจ ุจุฃููุฑ ุงููุคููููุ",options:["ุนูุฑ","ุนุซูุงู","ุนูู","ูุนุงููุฉ"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ุงุชุญุฏุช ุฃููุงููุง ุงูุญุฏูุซุฉ ูู ุงููุฑู:",options:["ุงูุซุงูู ุนุดุฑ","ุงูุชุงุณุน ุนุดุฑ","ุงูุนุดุฑูู","ุงูุณุงุจุน ุนุดุฑ"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ูุนุฑูุฉ ุจุฏุฑ ููุนุช ูู ุงูุณูุฉ:",options:["ุงูุซุงููุฉ ูููุฌุฑุฉ","ุงูุฃููู","ุงูุซุงูุซุฉ","ุงูุฎุงูุณุฉ"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ูู ูู ุจุงูู ูุฏููุฉ ุจุบุฏุงุฏุ",options:["ุงููุนุชุตู","ุงูููุตูุฑ","ุงููุฃููู","ูุงุฑูู ุงูุฑุดูุฏ"],a:1,cat:"ุชุงุฑูุฎู"},
  {q:"ููุงุฉ ุงูุณููุณ ุงูุชูุชุญุช ุนุงู:",options:["1869","1914","1882","1967"],a:0,cat:"ุชุงุฑูุฎู"},
  {q:"ุบุฑูุงุทุฉ ุณูุทุช ุณูุฉ:",options:["1492","1453","1517","1200"],a:0,cat:"ุชุงุฑูุฎู"},

  // ===== ุซูุงูู (25) =====
  {q:"ูุงุชุจ ุฑูุงูุฉ ยซุงูุจุคุณุงุกยป:",options:["ุชููุณุชูู","ูููุชูุฑ ููุบู","ุฏูููุฒ","ุฒููุง"],a:1,cat:"ุซูุงูู"},
  {q:"ูุคูู ยซููุณูุนุฉ ููููุจูุฏูุงยป ููุนุฏ ูุซุงููุง ุนูู:",options:["ุงููุงุดุฑ ุงูุชูููุฏู","ุงููุญุชูู ุงูููุชูุญ","ุงููุฏููุงุช","ุงููุชุจ ุงูุตูุชูุฉ"],a:1,cat:"ุซูุงูู"},
  {q:"ูู ุนุฏุฏ ุฃุญุฑู ุงููุบุฉ ุงูุนุฑุจูุฉุ",options:["28","29","30","27"],a:0,cat:"ุซูุงูู"},
  {q:"ุนุงุตูุฉ ุงููุงุจุงู:",options:["ุฃูุณุงูุง","ุณูุฏุงู","ุทูููู","ูููุชู"],a:2,cat:"ุซูุงูู"},
  {q:"ุงููููููุงุก ุชููุณุจ ุฅูู:",options:["ุงูุฎูุงุฑุฒูู","ุฌุงุจุฑ ุจู ุญูุงู","ุงูุฑุงุฒู","ุงุจู ุณููุง"],a:1,cat:"ุซูุงูู"},
  {q:"ูุญุฏุฉ ููุงุณ ุดุฏุฉ ุงูุตูุช:",options:["ูุงุช","ุฏูุณูุจู","ููุฑุชุฒ","ุฃูู"],a:1,cat:"ุซูุงูู"},
  {q:"ูุฎุชุฑุน ุงููุตุจุงุญ ุงูููุฑุจุงุฆู:",options:["ุชุณูุง","ุฅุฏูุณูู","ูุงุฑุงุฏุงู","ููุฑุณ"],a:1,cat:"ุซูุงูู"},
  {q:"ุฃูุจุฑ ูููุจ ูู ูุฌููุนุชูุง ุงูุดูุณูุฉ:",options:["ุฒุญู","ุงููุดุชุฑู","ุงูุฃุฑุถ","ูุจุชูู"],a:1,cat:"ุซูุงูู"},
  {q:"ุงููุบุฉ ุงูุฑุณููุฉ ูู ุงูุจุฑุงุฒูู:",options:["ุงูุฅุณุจุงููุฉ","ุงูุจุฑุชุบุงููุฉ","ุงูุฅูุฌููุฒูุฉ","ุงูููููุฏูุฉ"],a:1,cat:"ุซูุงูู"},
  {q:"ุนุฏุฏ ูุงุฑุงุช ุงูุนุงูู:",options:["5","6","7","8"],a:2,cat:"ุซูุงูู"},
  {q:"ุฃุฏูุจ ููุจู ุงููุตุฑู:",options:["ุทู ุญุณูู","ุงูุนูุงุฏ","ูุฌูุจ ูุญููุธ","ููุณู ุฅุฏุฑูุณ"],a:2,cat:"ุซูุงูู"},
  {q:"ุฃุณุฑุน ุญููุงู ุจุฑู:",options:["ุงูุบุฒุงู","ุงูููุฏ","ุงูุญุตุงู","ุงูุฐุฆุจ"],a:1,cat:"ุซูุงูู"},
  {q:"ุฌูุงุฒ ููุงุณ ุงูุฒูุงุฒู:",options:["ุจุงุฑููุชุฑ","ูุฑุตุฏ ุถูุฆู","ุณูุณููุบุฑุงู","ุบูุงููููุชุฑ"],a:2,cat:"ุซูุงูู"},
  {q:"ุฃุตุบุฑ ุนุธูุฉ ูู ุฌุณู ุงูุฅูุณุงู:",options:["ุงูุฑููุงุจ","ุงูุฃูู","ุนุธู ุงูุฑุณุบ","ุงูุชุฑููุฉ"],a:0,cat:"ุซูุงูู"},
  {q:"ุงูุบุงุฒ ุงูุฃูุซุฑ ููุฑุฉ ูู ุงูููุงุก:",options:["ุฃูุณุฌูู","ููุชุฑูุฌูู","ุฃุฑุฌูู","ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู"],a:1,cat:"ุซูุงูู"},
  {q:"ุงูุฎุท ุงูุฐู ูููุชุจ ุจู ุงููุตุญู ุบุงูุจูุง:",options:["ุงูุฏููุงูู","ุงููุณุฎ","ุงูุซูุซ","ุงูุฑูุนุฉ"],a:1,cat:"ุซูุงูู"},
  {q:"ุนุฏุฏ ุฃุถูุงุน ุงููุซูุซ:",options:["2","3","4","5"],a:1,cat:"ุซูุงูู"},
  {q:"ุงููููุจ ุงูุฃุญูุฑ:",options:["ุงูุฒูุฑุฉ","ุนุทุงุฑุฏ","ุงููุฑูุฎ","ุฒุญู"],a:2,cat:"ุซูุงูู"},
  {q:"ุฃุจู ุงูุทุจ:",options:["ุงุจู ุณููุง","ุงูุฑุงุฒู","ุฃุจูุฑุงุท","ุงุจู ุงููููุณ"],a:2,cat:"ุซูุงูู"},
  {q:"ูููุงุณ ุงูุญุฑุงุฑุฉ ุงููุฆูู ููุณูู:",options:["ูููู","ููุฑููุงูุช","ุณูููุณููุณ","ูููุชู"],a:2,cat:"ุซูุงูู"},
  {q:"ูุคูู ยซุงูุจูุงู ูุงูุชุจูููยป:",options:["ุงูุญุฑูุฑู","ุงูุฌุงุญุธ","ุงุจู ุฎูุฏูู","ุณูุจููู"],a:1,cat:"ุซูุงูู"},
  {q:"ููุชุดู ุงูุฏูุฑุฉ ุงูุฏูููุฉ ุงูุตุบุฑู:",options:["ุงุจู ุณููุง","ุงุจู ุงููููุณ","ุงูุฑุงุฒู","ุฃุจูุฑุงุท"],a:1,cat:"ุซูุงูู"},
  {q:"ุงููุชูุฑ ูู ุงูููุณููู ูู:",options:["ุฅููุงุน","ุขูุฉ ููุฎ","ุขูุฉ ูุชุฑูุฉ","ุทุจูุฉ"],a:2,cat:"ุซูุงูู"},
  {q:"ููู ุงูุดุงุฎุตุฉ ุงูุชุญุฐูุฑูุฉ ูู ุงูุทุฑู (ุบุงูุจูุง):",options:["ุฃุญูุฑ/ุฃุจูุถ","ุฃุตูุฑ/ุฃุณูุฏ","ุฃุฒุฑู/ุฃุจูุถ","ุฃุฎุถุฑ/ุฃุจูุถ"],a:1,cat:"ุซูุงูู"},
  {q:"ุงูุณููููููุฉ ูู ูุฑุชุจุท ุจู:",options:["ุงูุฑุณู","ุงูููุณููู","ุงูุดุนุฑ","ุงูุฑูุต"],a:1,cat:"ุซูุงูู"},

  // ===== ูููุนุงุช (25) =====
  {q:"ุนููุฉ ุงูููููุฉ ุงููุชุญุฏุฉ:",options:["ููุฑู","ุฌููู ุฅุณุชุฑูููู","ุฏููุงุฑ","ูุฑูู"],a:1,cat:"ูููุนุงุช"},
  {q:"ุฃุทูู ููุฑ ูู ุงูุนุงูู (ููู ููุงุณุงุช ุญุฏูุซุฉ ุบุงูุจูุง):",options:["ุงูุฃูุงุฒูู","ุงููููู","ุงููุงูุบุชุณู","ุงููููุบู"],a:1,cat:"ูููุนุงุช"},
  {q:"ุจุญุฑ ูุฑุจุท ุขุณูุง ุจุฃูุฑูุจุง:",options:["ุงูุนุฑุจู","ุงูุฃุณูุฏ","ูุฒููู","ุงููุฑุณู"],a:1,cat:"ูููุนุงุช"},
  {q:"ุฃูุจุฑ ูุญูุท:",options:["ุงูุฃุทูุณู","ุงูููุฏู","ุงููุงุฏุฆ","ุงููุชุฌูุฏ ุงูุดูุงูู"],a:2,cat:"ูููุนุงุช"},
  {q:"ุนุฏุฏ ุงูุจููุณูุงุช ุจูุญุฏุฉ ุงูููุบุงุจูุณู ูุณุงูู:",options:["ููููู ุจูุณู","ุฃูู ุจูุณู","ูููุงุฑ ุจูุณู","ูุฆุฉ ุฃูู"],a:0,cat:"ูููุนุงุช"},
  {q:"ูุบุฉ ูุจุฑู ูู ุงูููุฏ ุฅูู ุฌุงูุจ ุงูููุฏูุฉ:",options:["ุฃุฑุฏูุฉ","ุจูุบุงููุฉ","ุชุงููููุฉ","ุจูุฌุงุจูุฉ"],a:1,cat:"ูููุนุงุช"},
  {q:"ุงููุงุฏุฉ ุงูุชู ุชุนุทู ุงูุฏู ูููู ุงูุฃุญูุฑ:",options:["ุงูููููุบููุจูู","ุงูุจูุงุฒูุง","ุงูุตูุงุฆุญ","ุงูููู"],a:0,cat:"ูููุนุงุช"},
  {q:"ุฃูุจุฑ ุตุญุฑุงุก ุญุงุฑุฉ:",options:["ุงูุฌุฒูุฑุฉ ุงูุนุฑุจูุฉ","ุฌูุจู","ุงูุตุญุฑุง ุงููุจุฑู","ูุงูุงูุงุฑู"],a:2,cat:"ูููุนุงุช"},
  {q:"ุฃุดูุฑ ุจุฑูุงูุฌ ุฌุฏุงูู ุจูุงูุงุช:",options:["ููุฑุฏ","ุฃูุณูุณ","ุฅูุณู","ุจุงูุฑุจูููุช"],a:2,cat:"ูููุนุงุช"},
  {q:"ุฃูู ุชูุน ุฌุฒุฑ ุงููุงูุฏููุ",options:["ุงููุญูุท ุงูููุฏู","ุงููุงุฏุฆ","ุงูุฃุทูุณู","ุงููุชุฌูุฏ"],a:0,cat:"ูููุนุงุช"},
  {q:"ุนูููุฉ ุงููุงุจุงู:",options:["ูู","ููุงู","ูู","ุจุงุช"],a:2,cat:"ูููุนุงุช"},
  {q:"ุฃุณุฑุน ุดุจูุฉ ุงุชุตุงูุงุช ุฎูููุฉ ูุชุงุญุฉ ุชุฌุงุฑููุง (ุญุชู ุงูููู ูู ุฃุบูุจ ุงูุฏูู):",options:["3G","4G","5G","2G"],a:2,cat:"ูููุนุงุช"},
  {q:"ุงูููุชุงููู ุงููููุฏ ููุฑุคูุฉ ุฎุงุตุฉู:",options:["A","C","D","K"],a:0,cat:"ูููุนุงุช"},
  {q:"ุงูุญุฏ ุงูุฃูุตู ูููุงุณ pH ุงูุญูุถู ูููู ุฃูู ูู:",options:["7","6","8","9"],a:0,cat:"ูููุนุงุช"},
  {q:"ุนูููุฉ ุชุญููู ุงููุงุก ุฅูู ุจุฎุงุฑ:",options:["ุชูุงุซู","ุชุจุฎุฑ","ุชุณุงูู","ุชุฑุณูุจ"],a:1,cat:"ูููุนุงุช"},
  {q:"ุนุฏุฏ ูุงุนุจู ูุฑูู ูุฑุฉ ุงูุณูุฉ ุฏุงุฎู ุงูููุนุจ:",options:["5","7","9","11"],a:0,cat:"ูููุนุงุช"},
  {q:"ูุณุฑุญูุฉ ยซูุงููุชยป ูู ุชุฃููู:",options:["ุดูุณุจูุฑ","ุฏุงูุชู","ุชุดูุฎูู","ูููููุฑ"],a:0,cat:"ูููุนุงุช"},
  {q:"ุฃูุจุฑ ุญููุงู ุนูู ูุฌู ุงูุฃุฑุถ:",options:["ุงูุญูุช ุงูุฃุฒุฑู","ุงูููู ุงูุฅูุฑููู","ุงูุฏููุงุตูุฑ","ุงูุญูุช ุงูุฃุญุฏุจ"],a:0,cat:"ูููุนุงุช"},
  {q:"ููุฑ ุงูุงุชุญุงุฏ ุงูุฃูุฑูุจู ุงูุฑุฆูุณู:",options:["ุฑููุง","ุจุฑููู","ุจุฑููุณู","ูุฏุฑูุฏ"],a:2,cat:"ูููุนุงุช"},
  {q:"ุงูุบุงุฒ ุงููุณุชุฎุฏู ูู ุจุงูููุงุช ุงููููููู:",options:["ุฃูุณุฌูู","ุฃุฑุฌูู","ูููููู","ููุชุฑูุฌูู"],a:2,cat:"ูููุนุงุช"},
  {q:"ุงูุฑูุงุถุฉ ุงููุทููุฉ ูููุงุจุงู (ุดููุฑุฉ):",options:["ุฌูุฏู","ุณููู","ูุงุฑุงุชูู","ูููุบ ูู"],a:1,cat:"ูููุนุงุช"},
  {q:"ุชุทุจูู ููุณุชุฎุฏู ูููุญุงุฏุซุงุช ุงูููุฑูุฉ:",options:["ููุชูุดูุจ","ุฅูุณู","ูุงุชุณุงุจ","ุฅููุณุชุฑูุชูุฑ"],a:2,cat:"ูููุนุงุช"},
  {q:"ูุฏููุฉ ุชูุนุฑู ุจูุฏููุฉ ุงูุถุจุงุจ:",options:["ุจุงุฑูุณ","ููุฏู","ุฃูุณุชุฑุฏุงู","ููููุง"],a:1,cat:"ูููุนุงุช"},
  {q:"ูููุงุณ ุณุฑุนุฉ ุงูุฑูุงุญ:",options:["ุฃูููููุชุฑ","ุจุงุฑููุชุฑ","ูุงูุฏุฑููุชุฑ","ุฃูุฏููุชุฑ"],a:0,cat:"ูููุนุงุช"},
  {q:"ุงูุฐูุจ ูุฑูุฒ ูู ููููุงุฆูุงู:",options:["Ag","Au","Fe","Pt"],a:1,cat:"ูููุนุงุช"},
];

/* =========================
   ููุทู ุงููุนุจุฉ
   ========================= */
const el = s => document.querySelector(s);
const scoreEl = el('#score');
const bestEl = el('#best');
const idxEl = el('#idx');
const totalEl = el('#total');
const catEl = el('#cat');
const qEl = el('#q');
const optionsEl = el('#options');
const barEl = el('#bar');

const setup = el('#setup');
const stage = el('#stage');
const result = el('#result');

const nextBtn = el('#nextBtn');
const skipBtn = el('#skipBtn');

let current = 0, score = 0, correct = 0, wrong = 0, skipped = 0;
let deck = [];

/* ุชุญููู ุฃูุถู ูุชูุฌุฉ */
bestEl.textContent = localStorage.getItem('quizBest') || 0;

/* ุงุจุฏุฃ */
el('#startBtn').addEventListener('click', () => {
  const cat = el('#category').value;
  const order = el('#order').value;
  let list = cat === 'all' ? [...QUESTIONS] : QUESTIONS.filter(x => x.cat === cat);

  // ุชุฑุชูุจ
  if (order === 'random') list = shuffle(list);

  // ุนุฏุฏ
  const selected = el('#count').value;
  if (selected !== 'all') list = list.slice(0, Number(selected));

  deck = list;
  totalEl.textContent = deck.length;
  current = 0; score = 0; correct = 0; wrong = 0; skipped = 0;
  scoreEl.textContent = 0;

  setup.style.display = 'none';
  result.style.display = 'none';
  stage.style.display = '';
  render();
});

el('#howBtn').addEventListener('click', () => {
  alert('ุงุฎุชุฑ ุงููุฆุฉ ูุนุฏุฏ ุงูุฃุณุฆูุฉ ุซู ุงุถุบุท "ุงุจุฏุฃ ุงูุขู".\nุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู ุจูู 4 ุงุฎุชูุงุฑุงุช.\nููููู ุชุฎุทู ุงูุณุคุงูุ ููู ุงูููุงูุฉ ุชูุนุฑุถ ูุชูุฌุชู ูุฃูุถู ูุชูุฌุฉ ูุญููุธุฉ.');
});

nextBtn.addEventListener('click', () => {
  current++;
  if (current < deck.length) render();
  else finish();
  nextBtn.disabled = true;
});

skipBtn.addEventListener('click', () => {
  skipped++; nextBtn.disabled = false;
});

/* ุนุฑุถ ุณุคุงู */
function render(){
  const it = deck[current];
  idxEl.textContent = current + 1;
  catEl.textContent = it.cat;
  qEl.textContent = it.q;
  el('#meta').textContent = '';
  barEl.style.width = ((current)/deck.length*100).toFixed(1) + '%';

  optionsEl.innerHTML = '';
  it.options.forEach((txt, i) => {
    const btn = document.createElement('button');
    btn.className = 'opt';
    btn.innerHTML = `<b style="opacity:.8">${String.fromCharCode(0x0660+i+1)}.</b> <span>${txt}</span>`;
    btn.onclick = () => choose(i);
    optionsEl.appendChild(btn);
  });
}

/* ุงุฎุชูุงุฑ */
function choose(i){
  const it = deck[current];
  const nodes = [...optionsEl.children];
  nodes[it.a].classList.add('correct');
  if (i !== it.a) {
    nodes[i].classList.add('wrong');
    wrong++;
  } else {
    correct++;
    score += 1;
    scoreEl.textContent = score;
  }
  // ููุน ุงุฎุชูุงุฑ ูุฑุฉ ุฃุฎุฑู
  nodes.forEach(n => n.onclick = null);
  nextBtn.disabled = false;
}

/* ุฅููุงุก */
function finish(){
  stage.style.display = 'none';
  result.style.display = '';
  el('#finalScore').textContent = score;
  el('#finalTotal').textContent = deck.length;
  el('#ok').textContent = correct;
  el('#ko').textContent = wrong;
  el('#sk').textContent = skipped;
  barEl.style.width = '100%';

  const best = Number(localStorage.getItem('quizBest') || 0);
  if (score > best){
    localStorage.setItem('quizBest', String(score));
    bestEl.textContent = score;
  }
}

el('#restart').addEventListener('click', () => {
  setup.style.display = '';
  result.style.display = 'none';
});

/* ูุดุงุฑูุฉ */
function shareScore(){
  const txt = `ุญุตูุช ุนูู ${score} ูู ${deck.length} ูู ุงุฎุชุจุงุฑ ุนุงู!`;
  if (navigator.share) navigator.share({text:txt});
  else alert(txt);
}

/* ุฃุฏูุงุช */
function shuffle(a){
  for (let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}
</script>
</body>
</html>
